import{a as p,aG as m,S as f,o as l,c as s,b as n,w as u,V,d,e as w,h as t,R as _,aI as h,af as i}from"./index.1db97491.js";import{V as y}from"./VTable.70c892cd.js";const x={id:"orders"},D=t("h1",{class:"text-center"},"\u8A02\u55AE",-1),g=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"\u65E5\u671F"),t("th",null,"\u91D1\u984D"),t("th",null,"\u5546\u54C1")])],-1),v={__name:"OrdersView",setup(k){const c=p([]);return(async()=>{try{const{data:o}=await m.get("/orders");c.push(...o.result.map(r=>(r.totalPrice=r.products.reduce((e,a)=>e+a.p_id.price*a.quantity,0),r)))}catch{f.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u8A02\u55AE\u5931\u6557"})}})(),(o,r)=>(l(),s("div",x,[n(V,null,{default:u(()=>[n(d,{cols:"12"},{default:u(()=>[D]),_:1}),n(w),n(d,{cols:"12"},{default:u(()=>[n(y,null,{default:u(()=>[g,t("tbody",null,[(l(!0),s(_,null,h(c,e=>(l(),s("tr",{key:e._id},[t("td",null,i(e._id),1),t("td",null,i(new Date(e.date).toLocaleDateString()),1),t("td",null,i(e.totalPrice),1),t("td",null,[t("ul",null,[(l(!0),s(_,null,h(e.products,a=>(l(),s("li",{key:a._id},i(a.p_id.name+"\u500B"+a.p_id.name),1))),128))])])]))),128))])]),_:1})]),_:1})]),_:1})]))}};export{v as default};
